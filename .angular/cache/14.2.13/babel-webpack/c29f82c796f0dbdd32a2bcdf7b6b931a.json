{"ast":null,"code":"import _classCallCheck from \"/Users/prakhyamylavaram/Desktop/SJSU/CMPE-202/Project_Theater/Movie-Theater-booking/ui-components/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/prakhyamylavaram/Desktop/SJSU/CMPE-202/Project_Theater/Movie-Theater-booking/ui-components/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { TheaterService } from '../../services/theater.service';\nimport { MessageService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"../../services/authentication.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"../../services/theater.service\";\nimport * as i7 from \"primeng/dropdown\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"primeng/tabview\";\nimport * as i11 from \"primeng/table\";\nimport * as i12 from \"primeng/dialog\";\nimport * as i13 from \"../theaterOperation/theaterOperation.component\";\nimport * as i14 from \"../assignTheater/assignTheater.component\";\nimport * as i15 from \"../discount/discount.component\";\nimport * as i16 from \"../analytics/analytics.component\";\n\nfunction AdminComponent_p_table_10_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelement(1, \"span\");\n    i0.ɵɵelementStart(2, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_10_ng_template_1_Template_div_click_2_listener() {\n      i0.ɵɵrestoreView(_r12);\n      var ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.movieFormAddMovie());\n    });\n    i0.ɵɵelementStart(3, \"i\", 21);\n    i0.ɵɵtext(4, \"Add Movie\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AdminComponent_p_table_10_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 22);\n    i0.ɵɵtext(2, \"Movie Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\", 23);\n    i0.ɵɵtext(4, \"Release Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 24);\n    i0.ɵɵtext(6, \"Booking Started\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Image Url\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Operations\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"th\");\n    i0.ɵɵelement(13, \"p-columnFilter\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵelement(15, \"p-columnFilter\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵelement(17, \"p-columnFilter\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"th\");\n    i0.ɵɵelementStart(19, \"th\")(20, \"i\", 28);\n    i0.ɵɵtext(21, \"Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"p\");\n    i0.ɵɵelementStart(23, \"i\", 29);\n    i0.ɵɵtext(24, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AdminComponent_p_table_10_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵelement(9, \"img\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_10_ng_template_3_Template_i_click_11_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r15);\n      var movie_r13 = restoredCtx.$implicit;\n      var ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.EditMovie(movie_r13.movie_id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"i\", 32);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_10_ng_template_3_Template_i_click_12_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r15);\n      var movie_r13 = restoredCtx.$implicit;\n      var ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.DeleteMovie(movie_r13.movie_id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"i\", 33);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_10_ng_template_3_Template_i_click_13_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r15);\n      var movie_r13 = restoredCtx.$implicit;\n      var ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.assignTheater(movie_r13.movie_id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var movie_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r13.movie_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, movie_r13.release_date, \"mediumDate\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(movie_r13.booking_started);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", movie_r13.image_url, i0.ɵɵsanitizeUrl);\n  }\n}\n\nvar _c0 = function _c0() {\n  return [10, 25, 50];\n};\n\nvar _c1 = function _c1() {\n  return {\n    \"min-width\": \"500px\"\n  };\n};\n\nfunction AdminComponent_p_table_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 15);\n    i0.ɵɵtemplate(1, AdminComponent_p_table_10_ng_template_1_Template, 5, 0, \"ng-template\", 16);\n    i0.ɵɵtemplate(2, AdminComponent_p_table_10_ng_template_2_Template, 25, 0, \"ng-template\", 17);\n    i0.ɵɵtemplate(3, AdminComponent_p_table_10_ng_template_3_Template, 14, 7, \"ng-template\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r0.movies)(\"rows\", 10)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(7, _c0))(\"paginator\", true)(\"scrollable\", true)(\"tableStyle\", i0.ɵɵpureFunction0(8, _c1));\n  }\n}\n\nfunction AdminComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AdminComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      var ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.backToMoviesList());\n    });\n    i0.ɵɵtext(1, \"Back to Movies List\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminComponent_form_12_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 35);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminComponent_form_12_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      var ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.CreateMovie());\n    });\n    i0.ɵɵelementStart(1, \"div\", 36)(2, \"label\", 37);\n    i0.ɵɵtext(3, \"Movie Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 36)(6, \"label\", 39);\n    i0.ɵɵtext(7, \"Image Url\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 36)(10, \"label\", 41);\n    i0.ɵɵtext(11, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 36)(14, \"label\", 43);\n    i0.ɵɵtext(15, \"Release Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 36)(18, \"label\", 45);\n    i0.ɵɵtext(19, \"Booking Started :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 47);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.movieFormm);\n    i0.ɵɵadvance(22);\n    i0.ɵɵtextInterpolate(ctx_r2.edit ? \"Edit\" : \"Create\");\n  }\n}\n\nfunction AdminComponent_app_assignTheater_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-assignTheater\", 48);\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"id\", ctx_r3.selected_movie_id)(\"theaters\", ctx_r3.theaters);\n  }\n}\n\nfunction AdminComponent_p_table_16_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelement(1, \"span\");\n    i0.ɵɵelementStart(2, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_16_ng_template_1_Template_div_click_2_listener() {\n      i0.ɵɵrestoreView(_r26);\n      var ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.theaterFormAddMovie());\n    });\n    i0.ɵɵelementStart(3, \"i\", 21);\n    i0.ɵɵtext(4, \"Add Theater\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AdminComponent_p_table_16_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 49);\n    i0.ɵɵtext(2, \"Theater Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\", 50);\n    i0.ɵɵtext(4, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Screens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Movies\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Operations\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"th\");\n    i0.ɵɵelement(13, \"p-columnFilter\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵelement(15, \"p-columnFilter\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"th\")(17, \"th\");\n    i0.ɵɵelementStart(18, \"th\")(19, \"i\", 53);\n    i0.ɵɵtext(20, \"Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"p\");\n    i0.ɵɵelementStart(22, \"i\", 29);\n    i0.ɵɵtext(23, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AdminComponent_p_table_16_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_16_ng_template_3_Template_i_click_10_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r29);\n      var theater_r27 = restoredCtx.$implicit;\n      var ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.screen_operations(theater_r27.theater_id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"i\", 32);\n    i0.ɵɵlistener(\"click\", function AdminComponent_p_table_16_ng_template_3_Template_i_click_11_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r29);\n      var theater_r27 = restoredCtx.$implicit;\n      var ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.remove_theater(theater_r27.theater_id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var theater_r27 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(theater_r27.theater_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(theater_r27.city);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(theater_r27.screen_name ? theater_r27.screen_name.join(\",\") : \"No Screens\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(theater_r27.movies ? theater_r27.movies.join(\", \") : \"No Movies\");\n  }\n}\n\nfunction AdminComponent_p_table_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 15);\n    i0.ɵɵtemplate(1, AdminComponent_p_table_16_ng_template_1_Template, 5, 0, \"ng-template\", 16);\n    i0.ɵɵtemplate(2, AdminComponent_p_table_16_ng_template_2_Template, 24, 0, \"ng-template\", 17);\n    i0.ɵɵtemplate(3, AdminComponent_p_table_16_ng_template_3_Template, 12, 4, \"ng-template\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r4.theaters)(\"rows\", 10)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(7, _c0))(\"paginator\", true)(\"scrollable\", true)(\"tableStyle\", i0.ɵɵpureFunction0(8, _c1));\n  }\n}\n\nfunction AdminComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AdminComponent_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      var ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.backToTheaterList());\n    });\n    i0.ɵɵtext(1, \"Back to Theater List\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminComponent_form_18_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 35);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminComponent_form_18_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      var ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.CreateTheater());\n    });\n    i0.ɵɵelementStart(1, \"div\", 36)(2, \"label\", 37);\n    i0.ɵɵtext(3, \"Theater Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 36)(6, \"label\", 55);\n    i0.ɵɵtext(7, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p-dropdown\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_form_18_Template_p_dropdown_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      var ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.location_th = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 47);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r6.theaterForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.location_th)(\"filter\", true)(\"options\", ctx_r6.theaterSvc.location_list)(\"showClear\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.editTheater ? \"Edit\" : \"Create\");\n  }\n}\n\nfunction AdminComponent_app_theaterOperation_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-theaterOperation\", 57);\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"id\", ctx_r7.selected_theater_id)(\"screen\", true);\n  }\n}\n\nvar _c2 = function _c2() {\n  return {\n    \"width\": \"1000px\",\n    \"height\": \"700px\"\n  };\n};\n\nexport var AdminComponent = /*#__PURE__*/(function () {\n  var AdminComponent = /*#__PURE__*/function () {\n    function AdminComponent(formBuilder, messageService, auth, router, http, theaterSvc) {\n      var _this = this;\n\n      _classCallCheck(this, AdminComponent);\n\n      this.formBuilder = formBuilder;\n      this.messageService = messageService;\n      this.auth = auth;\n      this.router = router;\n      this.http = http;\n      this.theaterSvc = theaterSvc;\n      this.assignTheaterOperation = false;\n      this.theaterDiaplayForm = false;\n      this.theaterOperation = false;\n      this.screen_operation_display = false;\n      this.movie_operation_display = false;\n      this.editTheater = false;\n      this.createTheaterForm = false;\n      this.data = new Date();\n      this.edit = false;\n      this.movieFormDisplay = false;\n      this.dropdownOptions = [{\n        label: 'Option 1',\n        value: 'option1'\n      }, {\n        label: 'Option 2',\n        value: 'option2'\n      } // Add more options as needed\n      ];\n      this.movieFormm = this.formBuilder.group({\n        movie_name: ['', Validators.required],\n        image_url: ['', Validators.required],\n        desc: [''],\n        release_date_value: [null, Validators.required],\n        booking_started: [false]\n      });\n      this.theaterForm = this.formBuilder.group({\n        theater_name: ['', Validators.required],\n        location: ['']\n      });\n      this.http.get('/api/movies').subscribe(function (res) {\n        _this.movies = res;\n        console.log('constructor admin');\n        console.log(res);\n      });\n      this.http.get('/api/theaters').subscribe(function (res) {\n        _this.theaters = res;\n      });\n    }\n\n    _createClass(AdminComponent, [{\n      key: \"showSuccess\",\n      value: function showSuccess() {\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Success',\n          detail: 'Movie Created'\n        });\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var navbar = document.getElementsByTagName('nav')[0];\n        navbar.classList.add('navbar-transparent');\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        var navbar = document.getElementsByTagName('nav')[0];\n        navbar.classList.remove('navbar-transparent');\n      }\n    }, {\n      key: \"movieFormAddMovie\",\n      value: function movieFormAddMovie() {\n        this.movieFormDisplay = true;\n        this.edit = false;\n        this.movieFormm.reset();\n      }\n    }, {\n      key: \"theaterFormAddMovie\",\n      value: function theaterFormAddMovie() {\n        this.createTheaterForm = true;\n        this.theaterDiaplayForm = true;\n        this.editTheater = false;\n        this.theaterForm.reset();\n      }\n    }, {\n      key: \"movieForm\",\n      value: function movieForm() {\n        this.movieFormDisplay = true;\n      }\n    }, {\n      key: \"saveMovie\",\n      value: function saveMovie() {}\n    }, {\n      key: \"EditMovie\",\n      value: function EditMovie(id) {\n        var _this2 = this;\n\n        this.selected_movie_id = id;\n        this.edit = true;\n        this.http.get('/api/movies/' + id).subscribe(function (res) {\n          console.log(res);\n          _this2.editMovieId = res.movie_id;\n          var formattedDate = new Date(res.release_date); // Convert to JavaScript Date object\n\n          var isoDate = formattedDate.toISOString().substring(0, 10); // Get YYYY-MM-DD format\n\n          _this2.movieFormm.patchValue({\n            movie_name: res.movie_name,\n            image_url: res.image_url,\n            release_date_value: isoDate,\n            desc: res.description.description,\n            booking_started: res.booking_started\n          });\n\n          _this2.movieForm();\n        });\n      }\n    }, {\n      key: \"backToMoviesList\",\n      value: function backToMoviesList() {\n        var _this3 = this;\n\n        this.movieFormDisplay = false;\n        this.createTheaterForm = false;\n        this.http.get('/api/movies').subscribe(function (res) {\n          _this3.movies = res;\n          console.log('constructor admin');\n          console.log(res);\n        });\n      }\n    }, {\n      key: \"backToTheaterList\",\n      value: function backToTheaterList() {\n        var _this4 = this;\n\n        this.theaterDiaplayForm = false;\n        this.http.get('/api/theaters').subscribe(function (res) {\n          _this4.theaters = res;\n        });\n      }\n    }, {\n      key: \"DeleteMovie\",\n      value: function DeleteMovie(id) {\n        var _this5 = this;\n\n        var _a;\n\n        console.log(id);\n        var params = new HttpParams();\n        params = params.append('movie_id', id);\n        var headers = new HttpHeaders({\n          'Content-Type': 'application/json' // Set default header\n\n        });\n\n        if ((_a = this.auth.user) === null || _a === void 0 ? void 0 : _a.token) {\n          headers = headers.set('Authorization', this.auth.user.token);\n        }\n\n        this.http.delete('/api/movies', {\n          params: params,\n          headers: headers\n        }).subscribe(function (res) {\n          _this5.messageService.add({\n            severity: 'error',\n            summary: 'Deleted',\n            detail: 'Movie Deleted'\n          });\n\n          _this5.http.get('/api/movies').subscribe(function (res) {\n            _this5.movies = res;\n            console.log('constructor admin');\n            console.log(res);\n          });\n        });\n      }\n    }, {\n      key: \"CreateMovie\",\n      value: function CreateMovie() {\n        var _this6 = this;\n\n        var _a;\n\n        var headers = new HttpHeaders({\n          'Content-Type': 'application/json' // Set default header\n\n        });\n\n        if ((_a = this.auth.user) === null || _a === void 0 ? void 0 : _a.token) {\n          headers = headers.set('Authorization', this.auth.user.token);\n        }\n\n        console.log(this.movieFormm.value);\n\n        if (this.edit) {\n          var body = {\n            \"movie_id\": this.selected_movie_id,\n            \"movie_name\": this.movieFormm.value.movie_name,\n            \"image_url\": this.movieFormm.value.image_url,\n            \"release_date\": this.movieFormm.value.release_date_value,\n            \"description\": {\n              \"description\": this.movieFormm.value.desc\n            },\n            \"booking_started\": this.movieFormm.value.booking_started\n          };\n          this.http.put('/api/movies', body, {\n            headers: headers\n          }).subscribe(function (res) {\n            console.log(res);\n\n            _this6.messageService.add({\n              severity: 'success',\n              summary: 'Success',\n              detail: 'Movie Edited'\n            });\n\n            _this6.movieFormm.reset();\n          });\n        } else {\n          var _body = {\n            \"movie_name\": this.movieFormm.value.movie_name,\n            \"image_url\": this.movieFormm.value.image_url,\n            \"release_date\": this.movieFormm.value.release_date_value,\n            \"description\": {\n              \"description\": this.movieFormm.value.desc\n            },\n            \"booking_started\": this.movieFormm.value.booking_started\n          };\n          this.http.post('/api/movies', _body, {\n            headers: headers\n          }).subscribe(function (res) {\n            console.log(res);\n\n            _this6.showSuccess();\n\n            _this6.movieFormm.reset();\n          });\n        }\n      }\n    }, {\n      key: \"CreateTheater\",\n      value: function CreateTheater() {\n        var _this7 = this;\n\n        var _a;\n\n        var headers = new HttpHeaders({\n          'Content-Type': 'application/json' // Set default header\n\n        });\n\n        if ((_a = this.auth.user) === null || _a === void 0 ? void 0 : _a.token) {\n          headers = headers.set('Authorization', this.auth.user.token);\n        }\n\n        var body = {\n          \"theater_name\": this.theaterForm.value.theater_name,\n          \"location_id\": this.theaterForm.value.location.location_id,\n          \"movies\": []\n        };\n        console.log(this.theaterForm.value);\n        this.http.post('/api/theaters', body, {\n          headers: headers\n        }).subscribe(function (res) {\n          _this7.messageService.add({\n            severity: 'success',\n            summary: 'Success',\n            detail: 'Theater Created'\n          });\n\n          _this7.theaterForm.reset();\n        });\n      }\n    }, {\n      key: \"screen_operations\",\n      value: function screen_operations(id) {\n        this.theaterOperation = true;\n        this.selected_theater_id = id;\n      }\n    }, {\n      key: \"remove_theater\",\n      value: function remove_theater(id) {\n        var _this8 = this;\n\n        var _a;\n\n        console.log(id);\n        var params = new HttpParams();\n        params = params.append('theater_id', id);\n        var headers = new HttpHeaders({\n          'Content-Type': 'application/json' // Set default header\n\n        });\n\n        if ((_a = this.auth.user) === null || _a === void 0 ? void 0 : _a.token) {\n          headers = headers.set('Authorization', this.auth.user.token);\n        }\n\n        this.http.delete('/api/theaters', {\n          params: params,\n          headers: headers\n        }).subscribe(function (res) {\n          _this8.messageService.add({\n            severity: 'error',\n            summary: 'Deleted',\n            detail: 'Theater Deleted'\n          });\n\n          _this8.http.get('/api/theaters').subscribe(function (res) {\n            _this8.theaters = res;\n          });\n        });\n      }\n    }, {\n      key: \"assignTheater\",\n      value: function assignTheater(id) {\n        this.selected_movie_id = id;\n        console.log(id, this.selected_movie_id);\n        this.assignTheaterOperation = true;\n      }\n    }]);\n\n    return AdminComponent;\n  }();\n\n  AdminComponent.ɵfac = function AdminComponent_Factory(t) {\n    return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.AuthenticationService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.HttpClient), i0.ɵɵdirectiveInject(i6.TheaterService));\n  };\n\n  AdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminComponent,\n    selectors: [[\"app-admin\"]],\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 25,\n    vars: 17,\n    consts: [[\"filter-color\", \"orange\", 1, \"page-header\", \"login-page\", \"navbar-transparent\"], [1, \"page-header-image\", 2, \"background-image\", \"url('assets/img/bg_img.jpeg')\"], [1, \"container\"], [\"header\", \"Movies\"], [\"scrollHeight\", \"300px\", 3, \"value\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"paginator\", \"scrollable\", \"tableStyle\", 4, \"ngIf\"], [\"class\", \"btn btn-primary\", \"style\", \"display: flex !important\", 3, \"click\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [\"header\", \"Assign Screen\", 3, \"visible\", \"visibleChange\"], [3, \"id\", \"theaters\", 4, \"ngIf\"], [\"header\", \"Theaters\"], [\"header\", \"Screen\", 3, \"visible\", \"visibleChange\"], [3, \"id\", \"screen\", 4, \"ngIf\"], [\"header\", \"Discount\"], [\"header\", \"Analytics\"], [3, \"movies\"], [\"scrollHeight\", \"300px\", 3, \"value\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"paginator\", \"scrollable\", \"tableStyle\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [1, \"caption-wrapper\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"custom-button\", \"now-ui-icons\", \"ui-1_simple-add\"], [\"pSortableColumn\", \"movie_name\", 2, \"width\", \"22%\"], [\"pSortableColumn\", \"release_date\", 2, \"width\", \"22%\"], [\"pSortableColumn\", \"booking_started\", 2, \"width\", \"22%\"], [\"type\", \"text\", \"field\", \"movie_name\"], [\"type\", \"date\", \"field\", \"release_date\"], [\"type\", \"boolean\", \"field\", \"booking_started\"], [1, \"now-ui-icons\", \"design_scissors\"], [1, \"now-ui-icons\", \"ui-1_simple-remove\"], [\"width\", \"50px\", \"height\", \"50px\", 3, \"src\"], [1, \"icon\", \"now-ui-icons\", \"arrows-1_share-66\", 3, \"click\"], [1, \"icon\", \"now-ui-icons\", \"ui-1_simple-remove\", 3, \"click\"], [1, \"icon\", \"now-ui-icons\", \"shopping_shop\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 2, \"display\", \"flex !important\", 3, \"click\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"movie_name\"], [\"formControlName\", \"movie_name\", \"type\", \"text\", \"id\", \"movie_name\", \"placeholder\", \"Enter Movie Name\", 1, \"form-control\"], [\"for\", \"image_url\"], [\"formControlName\", \"image_url\", \"type\", \"text\", \"id\", \"image_url\", \"placeholder\", \"Enter Image Url\", 1, \"form-control\"], [\"for\", \"desc\"], [\"formControlName\", \"desc\", \"type\", \"text\", \"id\", \"desc\", \"placeholder\", \"Enter Description\", 1, \"form-control\"], [\"for\", \"release_date_value\"], [\"formControlName\", \"release_date_value\", \"type\", \"date\", \"id\", \"release_date_value\", 1, \"form-control\"], [\"for\", \"booking_started\"], [\"formControlName\", \"booking_started\", \"type\", \"checkbox\", \"id\", \"booking_started\", 1, \"form-check-input\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [3, \"id\", \"theaters\"], [\"pSortableColumn\", \"theater_name\", 2, \"width\", \"22%\"], [\"pSortableColumn\", \"location\", 2, \"width\", \"22%\"], [\"type\", \"text\", \"field\", \"theater_name\"], [\"type\", \"date\", \"field\", \"location\"], [1, \"now-ui-icons\", \"arrows-1_share-66\"], [\"formControlName\", \"theater_name\", \"type\", \"text\", \"id\", \"theater_name\", \"placeholder\", \"Enter Theater Name\", 1, \"form-control\"], [\"for\", \"location\"], [\"formControlName\", \"location\", \"id\", \"location\", \"placeholder\", \"Select a City\", \"optionLabel\", \"city\", 3, \"ngModel\", \"filter\", \"options\", \"showClear\", \"ngModelChange\"], [3, \"id\", \"screen\"]],\n    template: function AdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"p-toast\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelement(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelement(4, \"br\")(5, \"br\")(6, \"br\")(7, \"br\");\n        i0.ɵɵelementStart(8, \"p-tabView\")(9, \"p-tabPanel\", 3);\n        i0.ɵɵtemplate(10, AdminComponent_p_table_10_Template, 4, 9, \"p-table\", 4);\n        i0.ɵɵtemplate(11, AdminComponent_button_11_Template, 2, 0, \"button\", 5);\n        i0.ɵɵtemplate(12, AdminComponent_form_12_Template, 23, 2, \"form\", 6);\n        i0.ɵɵelementStart(13, \"p-dialog\", 7);\n        i0.ɵɵlistener(\"visibleChange\", function AdminComponent_Template_p_dialog_visibleChange_13_listener($event) {\n          return ctx.assignTheaterOperation = $event;\n        });\n        i0.ɵɵtemplate(14, AdminComponent_app_assignTheater_14_Template, 1, 2, \"app-assignTheater\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"p-tabPanel\", 9);\n        i0.ɵɵtemplate(16, AdminComponent_p_table_16_Template, 4, 9, \"p-table\", 4);\n        i0.ɵɵtemplate(17, AdminComponent_button_17_Template, 2, 0, \"button\", 5);\n        i0.ɵɵtemplate(18, AdminComponent_form_18_Template, 11, 6, \"form\", 6);\n        i0.ɵɵelementStart(19, \"p-dialog\", 10);\n        i0.ɵɵlistener(\"visibleChange\", function AdminComponent_Template_p_dialog_visibleChange_19_listener($event) {\n          return ctx.theaterOperation = $event;\n        });\n        i0.ɵɵtemplate(20, AdminComponent_app_theaterOperation_20_Template, 1, 2, \"app-theaterOperation\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"p-tabPanel\", 12);\n        i0.ɵɵelement(22, \"app-discount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"p-tabPanel\", 13);\n        i0.ɵɵelement(24, \"app-analytics\", 14);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", !ctx.movieFormDisplay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !!ctx.movieFormDisplay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !!ctx.movieFormDisplay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(15, _c2));\n        i0.ɵɵproperty(\"visible\", ctx.assignTheaterOperation);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.assignTheaterOperation);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.theaterDiaplayForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !!ctx.theaterDiaplayForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !!ctx.theaterDiaplayForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(16, _c2));\n        i0.ɵɵproperty(\"visible\", ctx.theaterOperation);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.theaterOperation);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"movies\", ctx.movies);\n      }\n    },\n    dependencies: [i2.PrimeTemplate, i7.Dropdown, i8.Toast, i9.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i10.TabView, i10.TabPanel, i11.Table, i11.SortableColumn, i11.ColumnFilter, i12.Dialog, i1.FormGroupDirective, i1.FormControlName, i13.theaterOperationComponent, i14.assignTheaterComponent, i15.discountComponent, i16.analyticsComponent, i9.DatePipe],\n    styles: [\".error[_ngcontent-%COMP%]{color:red;border:1px solid #f00;border-radius:30px}.p-dropdown-label[_ngcontent-%COMP%]{color:#000!important}.icon[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.caption-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.custom-button[_ngcontent-%COMP%]{margin-left:10px}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.form-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-right:15px;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:50%!important;display:inline!important}\"]\n  });\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}